/*! dragScroll.js | v1.4.0 | license Copyright (C) 2022 Taichi Matsutaka */
!function(e){e.dragScroll=function(e,t){this.target=e;const n={dragSelector:null,startPosition:null,startClass:"is-start",scrollStartClass:"is-scroll-start",dragStartClass:"is-drag-start",startTarget:"this",zoom:!0,zoomPlusSelector:null,zoomMinusSelector:null,zoomDefaultScale:1,zoomScale:.5,zoomMaxScale:2,zoomMinScale:.8,zoomEventDelay:500,getSizeEvent:["DOMContentLoaded","load","resize"]};for(let e in t)n[e]=t[e];this.options=n,this.removes=[],this.base()},dragScroll.prototype={base:function(){const e=this,t=this.options,n=document.querySelector(this.target);let o=n.querySelector(t.dragSelector),i=n,s=window;o||(o=n.children[0]),"BODY"!==n.tagName&&(s=n),"parent"===t.startTarget?i=n.parentNode:"this"!==t.startTarget&&(i=document.querySelector(t.startTarget));let l=n.clientWidth,c=n.clientHeight,a=o.getBoundingClientRect().width,r=o.getBoundingClientRect().height,d=o.clientWidth,u=o.clientHeight,m=0,g=0,v=0,f=0,h=0,S=0,L=v-h,z=f-S,p=a-l,E=r-c;const w=null===window.ontouchstart?"touchstart":"click",y=function(){l=n.clientWidth,c=n.clientHeight,a=o.getBoundingClientRect().width,r=o.getBoundingClientRect().height,d=o.clientWidth,u=o.clientHeight,p=a-l,E=r-c};for(let n=0;n<t.getSizeEvent.length;n++)window.addEventListener(t.getSizeEvent[n],y),e.removes.push((function(){window.removeEventListener(t.getSizeEvent[n],y)}));if(null!=t.startPosition){let e=function(){};const n=t.startPosition.split(" ");"center"==t.startPosition?e=function(){L=a/2-l/2,z=r/2-c/2,s.scrollTo(L,z),m=L,g=z}:-1!=n[0].indexOf("px")?e=function(){L=n[0].slice(0,-2),z=n[1].slice(0,-2),s.scrollTo(L,z),m=L,g=z}:-1!=n[0].indexOf("%")&&(e=function(){const e=n[0].slice(0,-1),t=n[1].slice(0,-1);L=a*(e/100)-l/2,z=r*(t/100)-c/2,s.scrollTo(L,z),m=L,g=z}),window.addEventListener("load",e)}const x=function(){i.classList.add(t.startClass)};let C=!0;const T=function(){x(),i.classList.add(t.dragStartClass),!0===C&&(m=s.scrollLeft,g=s.scrollTop)};window.addEventListener("load",(function(){setTimeout((function(){s.addEventListener("scroll",T)}),200)})),e.removes.push((function(){s.removeEventListener("scroll",T)}));const b=function(){L<0?L=0:L>p&&(L=p),z<0?z=0:z>E&&(z=E)},B=function(){C=!1,h=event.clientX||event.changedTouches[0].clientX,S=event.clientY||event.changedTouches[0].clientY,L=v-h+m,z=f-S+g,b(),s.scrollTo(L,z)},R=function(){C=!0,document.body.setAttribute("onSelectStart",""),n.classList.remove("is-drag"),m=L,g=z,n.removeEventListener("mousemove",B),n.removeEventListener("touchmove",B)},D=function(){x(),i.classList.add(t.startClass),v=event.clientX||event.changedTouches[0].clientX,f=event.clientY||event.changedTouches[0].clientY,document.body.setAttribute("onSelectStart","return false"),n.classList.add("is-drag"),n.addEventListener("mousemove",B),n.addEventListener("touchmove",B)};if(window.addEventListener("load",(function(){"click"==w&&(n.addEventListener("mousedown",D),n.addEventListener("mouseup",R),n.addEventListener("mouseleave",R),document.body.addEventListener("mouseleave",R),e.removes.push((function(){n.removeEventListener("mousemove",B),n.removeEventListener("mouseup",R),n.addEventListener("mouseleave",R),document.body.addEventListener("mouseleave",R)})))})),!0===t.zoom){let i=t.zoomDefaultScale;const v=document.querySelector(t.zoomPlusSelector),f=document.querySelector(t.zoomMinusSelector);let h=!1,S=!1,p=d*t.zoomScale,E=u*t.zoomScale;const w=function(){p=d*t.zoomScale,E=u*t.zoomScale};for(let n=0;n<t.getSizeEvent.length;n++)window.addEventListener(t.getSizeEvent[n],w),e.removes.push((function(){window.removeEventListener(t.getSizeEvent[n],w)}));let x=t.zoomMinScale;if("auto"==t.zoomMinScale){const n=function(){const e=l/d,t=c/u;x=Math.max(e,t)};n();for(let o=0;o<t.getSizeEvent.length;o++)window.addEventListener(t.getSizeEvent[o],n),e.removes.push((function(){window.removeEventListener(t.getSizeEvent[o],n)}))}let C=null,T=null,B=null;window.addEventListener("load",(function(){C=[x,t.zoomDefaultScale];let e=t.zoomDefaultScale;for(let n=0;n<100;n++){if(e+=t.zoomScale,e>t.zoomMaxScale){e=t.zoomMaxScale;break}C.push(e)}e=t.zoomDefaultScale;for(let n=0;n<100;n++){if(e-=t.zoomScale,e<x){e=x;break}C.push(e)}C.sort((function(e,t){return e-t})),T=C.indexOf(t.zoomDefaultScale),B=C.length}));const R=function(){1!==i&&(o.style.marginLeft=-o.getBoundingClientRect().left-m+"px",o.style.marginTop=-o.getBoundingClientRect().top-g+"px")},D=function(){setTimeout((function(){y(),L=Math.abs(o.getBoundingClientRect().left),z=Math.abs(o.getBoundingClientRect().top),b(),m=L,g=z,i<1?(o.style.marginRight="-"+d-a+"px",o.style.marginBottom="-"+u-r+"px"):(o.style.marginRight="",o.style.marginBottom=""),o.style.transformOrigin="0px 0px",o.style.marginLeft="",o.style.marginTop="",s.scrollTo(L,z),n.classList.remove("is-zoom"),v.classList.remove("is-zoom"),f.classList.remove("is-zoom")}),t.zoomEventDelay+100)};t.zoomDefaultScale<1&&(o.style.marginRight="-"+d-a+"px",o.style.marginBottom="-"+u-r+"px"),window.addEventListener("load",(function(){v&&v.addEventListener("click",(function(e){if(e.preventDefault(),1==h)return!1;n.classList.add("is-zoom"),v.classList.add("is-zoom");const t=1/i;m=-o.getBoundingClientRect().left,g=-o.getBoundingClientRect().top;const s=(l/2+m)*t,a=(c/2+g)*t;o.style.transformOrigin=s+"px "+a+"px",R(),T++,i=C[T],T==B-1?(h=!0,v.classList.add("is-disabled")):(S=!1,f.classList.remove("is-disabled")),o.style.transform="scale("+i+")",D()})),f&&f.addEventListener("click",(function(e){if(e.preventDefault(),1==S)return!1;n.classList.add("is-zoom"),f.classList.add("is-zoom");const t=1/i;let s=0,d=0;m=-o.getBoundingClientRect().left,g=-o.getBoundingClientRect().top,s=m<p/2?0:m>a-p/2?a-p*t+"px":(l/2+m)*t+"px",d=g<E/2?0:g>r-E/2?r-E*t+"px":(c/2+g)*t+"px",o.style.transformOrigin=s+" "+d,R(),T--,0==T?(S=!0,i=x,f.classList.add("is-disabled")):(h=!1,i=C[T],v.classList.remove("is-disabled")),o.style.transform="scale("+i+")",D()}))}))}},remove:function(){const e=this.removes;if(e)for(let t=0;t<e.length;t++)e[t]()}}}(this);